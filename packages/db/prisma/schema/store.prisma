model Store {
  id             BigInt        @id @default(autoincrement())
  name           String
  slug           String        @unique
  description    String?
  category       StoreCategory?
  theme          StoreTheme?
  ownerId        BigInt        @map("ownerid")
  whatsappNumber String?       @map("whatsappnumber")

  owner          User          @relation("StoreOwner", fields: [ownerId], references: [userId], onDelete: Cascade)
  products       Product[]
  orders         Order[]
  teamMembers    TeamMember[]
  customers      Customer[]
  storePlan      StorePlan?
  salesMetrics   SalesMetric[]

  @@map("store")
}

model StorePlan {
  id         BigInt       @id @default(autoincrement())
  storeId    BigInt       @map("storeid")
  planType   StorePlanType @map("plantype")
  orderLimit Int          @map("orderlimit")
  orderCount Int          @default(0) @map("ordercount")

  store      Store        @relation(fields: [storeId], references: [id], onDelete: Cascade)

  @@unique([storeId])
  @@map("storeplan")
}

